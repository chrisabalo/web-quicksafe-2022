{"version":3,"sources":["views/agents/edit/EditAgent.js"],"names":["EditAgent","useContext","AuthContext","registerAgent","history","useHistory","id","useParams","useState","nomagent","prenomagent","emailagent","codeagent","statusagent","telephoneagent","quartieragent","villeagent","agents","setAgents","onInputChange","e","target","name","value","onSubmit","a","preventDefault","API_BASE_URL","patch","then","res","data","console","log","Swal","fire","title","showConfirmButton","timer","setTimeout","push","loadAgents","get","catch","useEffect","row","className","htmlFor","placeholder","onChange","custom","onClick","size","color"],"mappings":"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","file":"static/js/11.56cef0d6.chunk.js","sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody, CCardFooter,\n  CCardGroup, CCardHeader,\n  CCol, CContainer,\n  CForm, CFormGroup, CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText, CLabel,\n  CRow, CSelect\n} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport {Link, useHistory, useParams} from \"react-router-dom\";\nimport {API_BASE_URL} from \"../../../models\";\nimport {AuthContext} from \"../../../navigation/AuthProvider\";\nimport Swal from \"sweetalert2\";\n\nconst EditAgent = () => {\n\n\n  const {registerAgent} = useContext(AuthContext);\n  const history = useHistory();\n  const {id} = useParams();\n  //alert(id);\n  const [agents, setAgents] = useState({\n    nomagent: '',\n    prenomagent: '',\n    emailagent: '',\n    codeagent: '',\n    statusagent: '',\n    telephoneagent: '',\n    quartieragent: '',\n    villeagent: '',\n  });\n\n const {nomagent, prenomagent, emailagent, codeagent, statusagent, telephoneagent, quartieragent, villeagent } = agents;\n const onInputChange = e => {\n   setAgents({...agents, [e.target.name]: e.target.value});\n }\n\n const onSubmit = async e => {\n   e.preventDefault();\n   await API_BASE_URL.patch(\"agents/\"+id, agents).then( res => {\n     let data = res.data.data;\n     console.log(\"Edit data : \" + data)\n     Swal.fire({\n       title: 'Demande en cours de traitement ...',\n       showConfirmButton: false,\n       timer: 15000\n     })\n     setTimeout(() => {\n       Swal.fire(\n         'Edition Terminée !!!',\n         'Modification terminée...',\n         'success'\n       )\n       history.push(\"/agent/agents\")\n     },3500);\n\n   })\n }\n\n  const loadAgents = async () => {\n    await API_BASE_URL.get(\"agents/idagent/\"+ id).then( res => {\n      let data = res.data.data;\n      console.log(data);\n      setAgents(data)\n    }).catch( e => {\n      console.log(e)\n    })\n  };\n  useEffect(() => {\n    loadAgents();\n  }, []);\n  console.log(\"Update data : \" + agents)\n\n  let PASSWORD_REGEX_3=  /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$/;\n  let re = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\n\n  return (\n    <>\n      <CRow>\n        <CCol>\n          <CCol>\n            <CCard>\n              <CCardHeader>\n                Editer les données de l'agent\n              </CCardHeader>\n\n              <CCardBody>\n                <CFormGroup  row className=\"my-0\">\n                  <CCol >\n                    <CFormGroup>\n                      <CLabel htmlFor=\"fname\">Nom</CLabel>\n                      <CInput\n                        id=\"nameagent\"\n                        placeholder=\"Entrer le nom\"\n                        name=\"nomagent\"\n                        value={nomagent}\n                        onChange={e => onInputChange(e)} />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"lname\">Prenom</CLabel>\n                      <CInput\n                        id=\"prenomagent\"\n                        placeholder=\" Tapez le nom de famille\"\n                        name=\"prenomagent\"\n                        value={prenomagent}\n                        onChange={e => onInputChange(e)}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"email\">Email</CLabel>\n                      <CInput\n                        id=\"emailagent\"\n                        placeholder=\"Entrer l'email\"\n                        name=\"emailagent\"\n                        value={emailagent}\n                        onChange={e => onInputChange(e)}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                </CFormGroup>\n                <CFormGroup row className=\"my-0\">\n                  <CCol >\n                    <CFormGroup>\n                      <CLabel htmlFor=\"code\">Code de l'agent</CLabel>\n                      <CInput\n                        id=\"codeagent\"\n                        placeholder=\"Entrer le code de l'agent\"\n                        name=\"codeagent\"\n                        value={codeagent}\n                        onChange={e => onInputChange(e)}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"telephone\">Telephone</CLabel>\n                      <CInput\n                        id=\"telephoneagent\"\n                        placeholder=\" Entrer le numero de telephone Ex: (00228)XXXXxxxx\"\n                        name=\"telephoneagent\"\n                        value={telephoneagent}\n                        onChange={e => onInputChange(e)}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol>\n                    <CFormGroup>\n                      <CLabel htmlFor=\"code\">Status de l'agent</CLabel>\n                      <CSelect\n                        onChange={e => onInputChange(e)}\n                        value={statusagent} custom name=\"statusagent\" id=\"statusagent\">\n                        <option  value={\"\"}>Choisir le status...</option>\n                        <option  value=\"disponible\"> Disponible</option>\n                        <option  value=\"occupee\"> Occupée</option>\n                      </CSelect>\n                    </CFormGroup>\n                  </CCol>\n                </CFormGroup>\n                <CFormGroup row className=\"my-0\">\n                  <CCol >\n                    <CFormGroup>\n                      <CLabel htmlFor=\"quartier\">Quartier</CLabel>\n                      <CInput\n                        id=\"quartieragent\"\n                        placeholder=\"Entrer le quartier\"\n                        name=\"quartieragent\"\n                        value={quartieragent}\n                        onChange={e => onInputChange(e)}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                  <CCol >\n                    <CFormGroup>\n                      <CLabel htmlFor=\"ville\">Ville</CLabel>\n                      <CInput\n                        id=\"villeagent\"\n                        placeholder=\"Entrer la ville\"\n                        name=\"villeagent\"\n                        value={villeagent}\n                        onChange={e => onInputChange(e)}\n                      />\n                    </CFormGroup>\n                  </CCol>\n                </CFormGroup>\n                <CButton onClick={e => onSubmit(e)} size=\"md\" color=\"warning\" className=\"ml-1 float-left text-uppercase\">\n                  Valider la modification\n                </CButton>\n              </CCardBody>\n            </CCard>\n          </CCol>\n        </CCol>\n      </CRow>\n    </>\n  )\n}\n\nexport  default EditAgent\n\n"],"sourceRoot":""}