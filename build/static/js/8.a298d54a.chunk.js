(this["webpackJsonpQuicksafe-web"]=this["webpackJsonpQuicksafe-web"]||[]).push([[8],{1082:function(e,t,n){"use strict";n.r(t);var c=n(37),r=n.n(c),s=n(59),a=n(33),i=n(1),o=n(8),l=(n(22),n(67)),u=n(60),d=n(58),j=n.n(d),b=n(6);t.default=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=t[0],c=t[1],d=Object(i.useState)([]),h=Object(a.a)(d,2),x=h[0],f=h[1],p=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.fire({title:"Etes vous sure?",text:"Vous ne pourrez pas revenir en arri\xe8re !",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, le retirer de la  liste!",cancelButtonText:"Annuler"}).then((function(e){e.value&&O(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("agents/"+t).then((function(e){200===e.data.code?(j.a.fire("SUPPRESSION AGENT!","L'agent a bien \xe9t\xe9 supprim\xe9.","success"),m()):j.a.fire("SUPPRESSION AGENT!","Erreur lors de la suppression de l'agent.","error")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.get("agents").then((function(e){var t=e.data.data;console.log(t),f(t.reverse())})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){setTimeout((function(){c(!0)}),1500),m()}),[]),Object(b.jsx)(b.Fragment,{children:n?Object(b.jsx)(b.Fragment,{children:x.length>0?Object(b.jsx)(o.L,{children:Object(b.jsx)(o.k,{children:Object(b.jsxs)("table",{className:"table border shadow py-4",children:[Object(b.jsx)("thead",{className:"thead-dark",children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"#"}),Object(b.jsx)("th",{scope:"col",children:"Matricule"}),Object(b.jsx)("th",{scope:"col",children:"Nom"}),Object(b.jsx)("th",{scope:"col",children:"Prenom"}),Object(b.jsx)("th",{scope:"col",children:"Email"}),Object(b.jsxs)("th",{children:[" ",Object(b.jsx)(u.b,{className:"btn btn-info mr-1","aria-pressed":"true",role:"button",to:"/agent/add-agents",children:"Nouveau agent"})]})]})}),Object(b.jsx)("tbody",{children:x.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:t+1}),Object(b.jsx)("td",{children:e.codeagent}),Object(b.jsx)("td",{children:e.nomagent}),Object(b.jsx)("td",{children:e.prenomagent}),Object(b.jsx)("td",{children:e.emailagent}),Object(b.jsxs)("td",{children:[Object(b.jsx)(u.b,{class:"btn btn-primary mr-2",to:"/agent/infos/".concat(e.idagent),children:"Voir details"}),Object(b.jsx)(u.b,{class:"btn btn-outline-primary mr-2",to:"/agent/edit/".concat(e.idagent),children:"Editer"}),Object(b.jsx)(u.b,{class:"btn btn-danger",onClick:function(){return p(e.idagent)},children:"Retirer"})]})]})}))})]})})}):Object(b.jsx)(o.L,{children:Object(b.jsx)(o.k,{className:"text-center d-flex justify-content-center align-items-center d-flex m-4",children:Object(b.jsxs)("div",{children:[Object(b.jsx)(o.A,{src:"avatars/datta-1.png",className:"img-fluid"}),Object(b.jsx)("h4",{className:"text-uppercase text-center",children:"Donn\xe9es indisponibles  ..."})]})})})}):Object(b.jsx)(o.k,{className:"d-flex justify-content-center align-items-center text-center m-4",children:Object(b.jsx)("h4",{className:"text-uppercase text-center",children:"Chargement en cours ....."})})})}}}]);
//# sourceMappingURL=8.a298d54a.chunk.js.map