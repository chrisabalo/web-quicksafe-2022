{"version":3,"sources":["views/alertes/alertes-send/index.js"],"names":["AlertCentreDeSante","props","useState","loaad","setLoad","alertes","setAlertes","loadData","a","API_BASE_URL","get","then","res","data","console","log","reverse","catch","e","useEffect","setTimeout","length","className","scope","style","width","map","alerte","index","nomuser","charAt","prenomuser","lataccident","longaccident","class","to","idaccident","src"],"mappings":"yMAqIeA,UAjHY,SAACC,GAE1B,IAEA,EAAyBC,oBAAS,GAAlC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0BJ,oBAAS,GAAnC,mBAEMK,GAFN,UAEc,uCAAG,sBAAAC,EAAA,sEACTC,IAAaC,IAAI,iCAAiCC,MAAM,SAAAC,GAC5D,IAAIC,EAAOD,EAAIC,KAAKA,KACpBC,QAAQC,IAAI,oBAAqBF,GACjCP,EAAWO,EAAKG,cACfC,OAAO,SAAAC,GACRJ,QAAQC,IAAIG,MANC,2CAAH,sDAgBd,OAPAC,qBAAU,WACRC,YAAW,WACThB,GAAQ,KACP,MACHG,MACC,IAGD,mCAIIJ,EAEE,mCAEIE,EAAQgB,OAAS,EAGb,cAAC,IAAD,UACE,cAAC,IAAD,UACE,wBAAOC,UAAU,2BAAjB,UACE,gCACA,+BAEE,oBAAIC,MAAM,MAAMC,MAAO,CAAEC,MAAO,SAChC,oBAAIF,MAAM,QACV,oBAAIA,MAAM,QACV,oBAAIA,MAAM,aAIZ,gCACClB,EAAQqB,KAAI,SAACC,EAAQC,GAAT,OACX,+BACE,6BACE,uBAAMN,UAAU,iBAAhB,UACE,uBAAOA,UAAU,4GAAjB,SACCK,EAAOE,QAAQC,OAAO,GAAG,GAAGH,EAAOI,WAAWD,OAAO,KAErD,GACD,wBAAOR,UAAU,wCAAjB,cAA2DK,EAAOI,WAAlE,IAA+E,GAA/E,QACA,wBAAOT,UAAU,iBAAjB,cAAoCK,EAAOE,QAA3C,YAGJ,6BAAKF,EAAOK,cACZ,6BAAKL,EAAOM,eACZ,+BACE,cAAC,IAAD,CAAMC,MAAM,uBACNC,GAAE,yBAAoBR,EAAOS,YADnC,0BAMA,cAAC,IAAD,CACEF,MAAM,+BACNC,GAAE,uBAAkBR,EAAOS,YAF7B,sCApBKR,EAAM,eAoCxB,cAAC,IAAD,UACC,cAAC,IAAD,CAAMN,UAAU,0EAAhB,SACE,gCACE,cAAC,IAAD,CACEe,IAAK,sBACLf,UAAU,cAEZ,oBAAIA,UAAU,6BAAd,oDAQV,cAAC,IAAD,CAAMA,UAAU,mEAAhB,SACE,oBAAIA,UAAU,6BAAd","file":"static/js/13.83e8660c.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CCard,\r\n  CCardBody, CCardFooter,\r\n  CCardHeader,\r\n  CCol,\r\n  CCollapse,\r\n  CDataTable, CForm, CFormGroup, CImg, CInput, CLabel,\r\n  CModal, CModalBody, CModalFooter,\r\n  CModalHeader, CModalTitle, CNavLink,\r\n  CRow, CSelect\r\n} from \"@coreui/react\";\r\n\r\nimport {Link, useParams} from \"react-router-dom\";\r\nimport {API_BASE_URL} from \"../../../models\";\r\n\r\n\r\n\r\nconst AlertCentreDeSante = (props) => {\r\n\r\n  const apiKey = 'AIzaSyASyYRBZmULmrmw_P9kgr7_266OhFNinPA';\r\n\r\n  const [loaad, setLoad] = useState(false);\r\n  const [alertes, setAlertes] = useState([]);\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const loadData = async () => {\r\n    await API_BASE_URL.get(\"accidents/alertes/centresante\").then( res => {\r\n      let data = res.data.data;\r\n      console.log(\"Accidents alertes\", data);\r\n      setAlertes(data.reverse());\r\n    }).catch( e => {\r\n      console.log(e)\r\n    })\r\n  };\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoad(true)\r\n    }, 1500)\r\n    loadData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {/*Zones de la liste des agents*/}\r\n\r\n      {\r\n        loaad\r\n          ?\r\n          <>\r\n            {\r\n              alertes.length > 0\r\n                ?\r\n                (\r\n                  <CRow>\r\n                    <CCol>\r\n                      <table className=\"table border shadow py-4\">\r\n                        <thead >\r\n                        <tr>\r\n\r\n                          <th scope=\"col\" style={{ width: '60%' }}></th>\r\n                          <th scope=\"col\"></th>\r\n                          <th scope=\"col\"></th>\r\n                          <th scope=\"col\"></th>\r\n\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {alertes.map((alerte, index) => (\r\n                          <tr key={index+1}>\r\n                            <td>\r\n                              <span className=\"d-inline-block\">\r\n                                <label className=\"mr-3 text-uppercase text-black-50 c-avatar-rounded rounded-pill bg-light border-4 border-dark p-4 p-sm-4 \">\r\n                                {alerte.nomuser.charAt(0)+''+alerte.prenomuser.charAt(0)}\r\n                              </label>\r\n                                {\"\"}\r\n                                <label className=\"mr-1 text-capitalize font-weight-bold\"> {alerte.prenomuser} {\"\"}  </label>\r\n                                <label className=\"text-uppercase\"> {alerte.nomuser} </label>\r\n                              </span>\r\n                            </td>\r\n                            <td>{alerte.lataccident}</td>\r\n                            <td>{alerte.longaccident}</td>\r\n                            <td>\r\n                              <Link class=\"btn btn-primary mr-2\"\r\n                                    to={`/alertes/infos/${alerte.idaccident}`}\r\n                              >\r\n                                Voir details\r\n                              </Link>\r\n\r\n                              <Link\r\n                                class=\"btn btn-outline-warning mr-2\"\r\n                                to={`/maps-agents/${alerte.idaccident}`}\r\n                              >\r\n                                Trouver la position\r\n                              </Link>\r\n                            </td>\r\n                          </tr>\r\n\r\n                        ))}\r\n                        </tbody>\r\n                      </table>\r\n                    </CCol>\r\n                  </CRow>\r\n                )\r\n                :\r\n                (<CRow>\r\n                  <CCol className=\"text-center d-flex justify-content-center align-items-center d-flex m-4\">\r\n                    <div>\r\n                      <CImg\r\n                        src={'avatars/datta-1.png'}\r\n                        className=\"img-fluid\"\r\n                      />\r\n                      <h4 className=\"text-uppercase text-center\">Donn√©es indisponibles  ...</h4>\r\n                    </div>\r\n                  </CCol>\r\n                </CRow> )\r\n            }\r\n          </>\r\n          :\r\n          (\r\n            <CCol className=\"d-flex justify-content-center align-items-center text-center m-4\">\r\n              <h4 className=\"text-uppercase text-center\">Chargement en cours .....</h4>\r\n            </CCol>\r\n          )\r\n\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default AlertCentreDeSante\r\n"],"sourceRoot":""}