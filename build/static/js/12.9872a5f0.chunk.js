(this["webpackJsonpQuicksafe-web"]=this["webpackJsonpQuicksafe-web"]||[]).push([[12],{1086:function(e,t,c){"use strict";c.r(t);var s=c(37),a=c.n(s),n=c(59),r=c(33),i=c(1),d=c(8),l=(c(874),c(60)),j=c(67),o=c(79),b=c.n(o),x=c(6);t.default=function(e){var t=Object(i.useState)(!1),c=Object(r.a)(t,2),s=c[0],o=c[1],m=Object(i.useState)([]),h=Object(r.a)(m,2),u=h[0],O=h[1],f=Object(i.useState)(!1),p=Object(r.a)(f,2),g=(p[0],p[1],function(){var e=Object(n.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("accidents/alertes").then((function(e){var t=e.data.data;console.log("Accidents alertes",t),O(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(i.useEffect)((function(){setTimeout((function(){o(!0)}),1500),g()}),[]),Object(x.jsx)(x.Fragment,{children:s?Object(x.jsx)(x.Fragment,{children:u.length>0?Object(x.jsx)(d.f,{children:Object(x.jsx)(d.L,{children:Object(x.jsx)(d.k,{children:Object(x.jsxs)("table",{className:"table border shadow py-4",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",style:{width:"60%"}}),Object(x.jsx)("th",{scope:"col"}),Object(x.jsx)("th",{scope:"col"}),Object(x.jsx)("th",{scope:"col"})]})}),Object(x.jsx)("tbody",{children:u.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsxs)("div",{className:"message",children:[Object(x.jsx)("div",{className:"pt-3 mr-3 float-left",children:Object(x.jsxs)("div",{className:"c-avatar border-dark",children:[e.nomuser.charAt(0)+""+e.prenomuser.charAt(0),Object(x.jsx)("span",{className:"c-avatar-status bg-success"})]})}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("small",{className:"text-muted",children:[e.prenomuser," ",e.nomuser]}),Object(x.jsx)("small",{className:"text-muted float-right mt-1",children:b()("".concat(e.dateaccident)).fromNow()})]}),Object(x.jsxs)("div",{className:"text-truncate font-weight-bold",children:[Object(x.jsx)("span",{className:"fa fa-exclamation text-danger"}),""," Gravit\xe9 : ",e.graviteaccident,", Nombre d'egnins : ",e.nombredengins]}),Object(x.jsxs)("div",{className:"small text-muted text-truncate",children:["Latidude : ",e.lataccident,", Longitude : ",e.longaccident," ",Object(x.jsx)("br",{}),"a \xe9t\xe9 envoy\xe9 le ",Object(x.jsxs)("span",{className:"text-black-50 ",children:[" ",b()("".concat(e.dateaccident)).format("dddd")," ","",b()("".concat(e.dateaccident)).format("Do MMMM YYYY")," ",""," "," \xe0 ",b()("".concat(e.dateaccident)).format("HH:mm:ss")," "]})]})]})}),Object(x.jsx)("td",{}),Object(x.jsx)("td",{}),Object(x.jsxs)("td",{children:[Object(x.jsx)(l.b,{class:"btn btn-primary mr-2",to:"/alertes/infos/".concat(e.idaccident),children:"Voir details"}),Object(x.jsx)(l.b,{class:"btn btn-outline-warning mr-2",to:"/maps-agents/".concat(e.idaccident),children:"Trouver la position"})]})]},t+1)}))})]})})})}):Object(x.jsx)(d.L,{children:Object(x.jsx)(d.k,{className:"text-center d-flex justify-content-center align-items-center d-flex m-4",children:Object(x.jsxs)("div",{children:[Object(x.jsx)(d.A,{src:"avatars/datta-1.png",className:"img-fluid"}),Object(x.jsx)("h4",{className:"text-uppercase text-center",children:"Donn\xe9es indisponibles  ..."})]})})})}):Object(x.jsx)(d.k,{className:"d-flex justify-content-center align-items-center text-center m-4",children:Object(x.jsx)("h4",{className:"text-uppercase text-center",children:"Chargement en cours ....."})})})}}}]);
//# sourceMappingURL=12.9872a5f0.chunk.js.map